# 价格配置说明

## 全局价格配置

### 配置文件位置
- `app/config.py` - 后端价格配置
- `web/member.html` - 会员页面价格显示
- `web/credits.html` - 额度页面价格显示

### 当前测试价格
- **会员价格**: ¥0.10
- **额度价格**: ¥0.01 (1张)
- **额度数量**: 1张

### 配置参数说明

#### 后端配置 (app/config.py)
```python
# 测试价格配置
MEMBER_PRICE_TEST: float = 0.10      # 会员测试价格(元)
CREDITS_PRICE_TEST: float = 0.01     # 额度测试价格(元)
CREDITS_AMOUNT_TEST: int = 1         # 测试额度数量

# 正式价格配置（待启用）
MEMBER_PRICE_PROD: float = 29.90     # 会员正式价格(元)
CREDITS_PRICE_PROD: float = 9.90     # 额度正式价格(元)
CREDITS_AMOUNT_PROD: int = 10        # 正式额度数量

# 价格模式切换
USE_TEST_PRICE: bool = True          # 是否使用测试价格
```

### 修改价格步骤

#### 1. 修改测试价格
编辑 `app/config.py` 中的测试价格参数：
```python
MEMBER_PRICE_TEST: float = 0.10      # 修改会员价格
CREDITS_PRICE_TEST: float = 0.01     # 修改额度价格
CREDITS_AMOUNT_TEST: int = 1         # 修改额度数量
```

#### 2. 修改前端显示
- `web/member.html` - 更新会员页面价格显示
- `web/credits.html` - 更新额度套餐价格和数量

#### 3. 部署更新
```bash
# 上传文件
scp app/config.py app/api/payment.py web/member.html web/credits.html root@123.57.68.4:/opt/ImageClassifierBackend/

# 重启服务
ssh root@123.57.68.4 "systemctl restart image-classifier"
```

### 切换到正式价格

#### 1. 修改配置
将 `app/config.py` 中的 `USE_TEST_PRICE` 改为 `False`：
```python
USE_TEST_PRICE: bool = False
```

#### 2. 更新前端
- 会员页面：¥29.90
- 额度页面：10张 ¥9.90, 20张 ¥18, 50张 ¥39

#### 3. 部署更新
按照上述步骤部署即可。

### 当前测试配置
- ✅ 会员：¥0.10
- ✅ 额度：1张 ¥0.01
- ✅ 已部署到服务器

### 注意事项
1. 修改价格后需要重启服务
2. 前端和后端价格必须保持一致
3. 测试价格仅用于开发测试，正式上线前需要切换到正式价格
4. 微信支付有最低金额限制（通常0.01元）

