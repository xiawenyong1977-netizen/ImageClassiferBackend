# Web管理界面使用说明

## 🌐 访问地址

**本地访问（服务器内部）：**
```
http://localhost:8000/
```

**外网访问（需要开放端口）：**
```
http://123.57.68.4:8000/
```

## ✨ 功能说明

### 1. 📊 统计数据页面

查看系统运行统计信息：

- **系统状态**：服务、数据库、大模型API状态
- **今日统计**：请求数、缓存命中率、用户数等
- **缓存效率**：缓存图片数、节省成本等
- **分类分布**：各类别的分类数量和占比

**自动刷新**：每30秒自动刷新数据

### 2. 🧪 分类测试页面

测试图片分类功能：

**步骤**：
1. 点击或拖拽上传图片
2. 预览图片
3. 点击"开始分类"按钮
4. 查看分类结果

**显示信息**：
- 分类类别（中文名称）
- 置信度（百分比和进度条）
- 图片描述
- 是否来自缓存
- 处理耗时
- 请求ID

### 3. ⚙️ 配置管理页面

管理API配置：

- **API服务地址**：后端API地址
- **大模型提供商**：OpenAI或Claude
- **API密钥**：大模型API密钥
- **模型名称**：使用的模型

**注意**：
- 配置保存在浏览器本地存储（localStorage）
- API密钥仅用于显示，实际修改需在服务器.env文件
- 分类类别说明表格

## 🔧 配置API密钥

### 方法1：通过SSH修改服务器配置（推荐）

```bash
ssh root@123.57.68.4
cd /opt/ImageClassifierBackend
vi .env
# 修改: LLM_API_KEY=sk-你的真实密钥
systemctl restart image-classifier
```

### 方法2：修改配置后重新上传

在本地修改 `.env` 文件，然后上传：
```bash
scp d:\ImageClassifierBackend\.env root@123.57.68.4:/opt/ImageClassifierBackend/
ssh root@123.57.68.4 "systemctl restart image-classifier"
```

## ⚠️ 重要提醒

### 开放阿里云安全组端口

要从外网访问Web界面，必须：

1. 登录阿里云控制台
2. 找到轻量应用服务器（123.57.68.4）
3. 进入"防火墙"设置
4. 添加规则：
   - 端口：8000
   - 协议：TCP
   - 策略：允许
5. 保存

**开放端口后，访问**：http://123.57.68.4:8000/

## 📱 功能特性

### 智能特性

- ✅ **响应式设计**：支持PC和移动端
- ✅ **拖拽上传**：支持拖拽图片到上传区域
- ✅ **实时预览**：上传前预览图片
- ✅ **自动刷新**：统计数据自动更新
- ✅ **本地配置**：配置保存在浏览器
- ✅ **美观界面**：现代化渐变设计

### 显示信息

- ✅ 中文分类名称（自动映射）
- ✅ 置信度可视化（进度条）
- ✅ 缓存命中标识
- ✅ 处理时间统计
- ✅ 请求ID追踪

## 🎨 界面预览

### 统计页面
- 卡片式布局
- 实时数据展示
- 分类分布可视化

### 测试页面
- 拖拽上传
- 图片预览
- 结果详情展示

### 配置页面
- 表单配置
- 分类类别说明

## 🔍 测试功能

### 测试步骤

1. **访问Web界面**：http://123.57.68.4:8000/
2. **切换到"分类测试"标签**
3. **上传测试图片**
4. **点击"开始分类"**
5. **查看结果**

### 测试检查

- [ ] 能否正常上传图片
- [ ] 能否显示分类结果
- [ ] 置信度是否正确显示
- [ ] 是否显示缓存命中状态
- [ ] 请求ID是否生成

## 📊 监控使用

在统计页面可以实时监控：

- **今日请求量**
- **缓存命中率**（越高越好）
- **成本节省**（缓存带来的收益）
- **分类分布**（了解用户主要分类什么类型的图片）

## 🚀 后续优化

可以添加的功能：

- [ ] 批量图片上传
- [ ] 历史记录查询
- [ ] 数据导出功能
- [ ] 实时日志查看
- [ ] 性能图表展示

---

**需要帮助？** 查看 API文档：http://123.57.68.4:8000/docs

